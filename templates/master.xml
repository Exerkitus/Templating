{% from 'makeQuestion.xml' import makeQuestion %}

<courseModule>

  <module>
    <autoModule>true</autoModule>
  </module>

  {# Only create a group if groupInfo was specified #}
  {% if groupInfo %}
    <questionGroups>
      <group uid="{{ groupInfo.uid }}" weight="1.0">
        <name>
          <![CDATA[ {{ groupInfo.name }} ]]>
        </name>
        <description>
          <![CDATA[ {{ groupInfo.description }} ]]>
        </description>
        <privacy>10</privacy>

        <questions>
          {% for question in questions %}
            <qRef uid="{{ question.uid }}" weight="{{ loop.index }}.0"/>
          {% endfor %}
        </questions>
      </group>
    </questionGroups>
  {% endif %}

  <questions>
    {% for question in questions %}
      {{ makeQuestion(question) }}
    {% endfor %}
  </questions>

</courseModule>